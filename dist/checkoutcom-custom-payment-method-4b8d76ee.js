"use strict";(self.webpackJsonpCheckout=self.webpackJsonpCheckout||[]).push([[5555,9154],{10945:(e,t,n)=>{n.d(t,{CheckoutcomCustomPaymentMethod:()=>j});var a=n(31635),r=n(40863),o=n(70355),i=n(45053),c=n(19285),s=n(79026),l=n(49655),m=n(22292),d=n(47237),u=n(30680),p=n(10156),y=n(24750);const h=e=>{const{additionalClassName:t,autoComplete:n,labelId:a,name:r}=e,i=(0,o.useCallback)((({field:e})=>o.createElement(p.A,Object.assign({},e,{autoComplete:n,id:e.name}))),[n]),c=(0,o.useMemo)((()=>o.createElement(l.A,{id:a})),[a]);return o.createElement(u.A,{additionalClassName:t,input:i,labelContent:c,name:r})},b=(0,o.memo)((({additionalClassName:e,autoComplete:t,labelId:n,name:a})=>o.createElement(y.A,null,o.createElement("div",{className:"form-ccFields"},o.createElement(h,{additionalClassName:e,autoComplete:t,labelId:n,name:a}))))),f=e=>{var t=e.field,{value:n}=t,r=(0,a.__rest)(t,["value"]),{form:i,selectedIssuer:c}=e;const s=(0,o.useCallback)((()=>o.createElement("input",Object.assign({},r,{type:"hidden"}))),[r]);return(0,o.useEffect)((()=>{n!==c&&i.setFieldValue(r.name,c)}),[n,i,c,r.name]),o.createElement(s,null)},_=e=>{var{issuer:t}=e,n=(0,a.__rest)(e,["issuer"]);const{bic:r,name:i}=t;return o.createElement("button",Object.assign({"data-bic":r,type:"button"},n),o.createElement("div",{className:"instrumentSelect-details"},`${r} / ${i}`))},v=({selectedIssuer:e})=>e?o.createElement(_,{className:"instrumentSelect-button optimizedCheckout-form-select dropdown-button form-input",issuer:e}):o.createElement("button",{className:"instrumentSelect-button optimizedCheckout-form-select dropdown-button form-input",type:"button"},o.createElement("div",{className:"instrumentSelect-details instrumentSelect-details--addNew"},o.createElement("div",{className:"instrumentSelect-card"},"Your bank"))),g=({method:e})=>o.createElement(b,{additionalClassName:"form-field--ccDocument",autoComplete:"cc-document",labelId:`payment.checkoutcom_document_label_${e.id}`,name:"ccDocument"}),O={fawry:()=>o.createElement(o.Fragment,null,o.createElement(b,{additionalClassName:"form-field--customerMobile",autoComplete:"tel",labelId:"payment.checkoutcom_fawry_customer_mobile_label",name:"customerMobile"}),o.createElement(b,{additionalClassName:"form-field--customerEmail",autoComplete:"email",labelId:"payment.checkoutcom_fawry_customer_email_label",name:"customerEmail"})),sepa:({method:e,debtor:t})=>{const n=(0,o.useContext)(s.i),a=e.initializationData.sepaCreditor;return(0,o.useEffect)((()=>(null==n||n.paymentForm.disableSubmit(e,!0),()=>null==n?void 0:n.paymentForm.disableSubmit(e,!1))),[n,e]),o.createElement(o.Fragment,null,o.createElement("div",{className:"checkoutcom-sepa-column-container"},o.createElement("div",{className:"checkoutcom-sepa-column-content"},o.createElement("h4",{className:"checkoutcom-sepa-title"},o.createElement(l.A,{id:"payment.checkoutcom_sepa_creditor_title"})),o.createElement("h5",{className:"checkoutcom-sepa-title"},a.sepaCreditorCompanyName),o.createElement("p",{className:"checkoutcom-sepa-line"},a.sepaCreditorAddress),o.createElement("p",{className:"checkoutcom-sepa-line"},`${a.sepaCreditorPostalCode} ${a.sepaCreditorCity}`),o.createElement("p",{className:"checkoutcom-sepa-line"},a.sepaCreditorCountry),o.createElement("br",null),o.createElement("p",{className:"checkoutcom-sepa-line"},o.createElement(l.A,{data:{creditorId:a.sepaCreditorIdentifier},id:"payment.checkoutcom_sepa_creditor_id"}))),o.createElement("div",{className:"checkoutcom-sepa-column-content"},o.createElement("h4",{className:"checkoutcom-sepa-title"},o.createElement(l.A,{id:"payment.checkoutcom_sepa_debtor_title"})),o.createElement("h5",{className:"checkoutcom-sepa-title"},`${t.firstName} ${t.lastName}`),o.createElement("p",{className:"checkoutcom-sepa-line"},t.address1),o.createElement("p",{className:"checkoutcom-sepa-line"},`${t.postalCode} ${t.city}, ${t.stateOrProvinceCode}`),o.createElement("p",{className:"checkoutcom-sepa-line"},t.countryCode))),o.createElement("p",{className:"checkoutcom-sepa-line"},o.createElement(l.A,{id:"payment.checkoutcom_sepa_payment_type"})),o.createElement("br",null),o.createElement(b,{additionalClassName:"form-field--iban",autoComplete:"iban",labelId:"payment.sepa_account_number",name:"iban"}),o.createElement(m.A,{labelContent:o.createElement(l.A,{data:{creditorName:a.sepaCreditorCompanyName},id:"payment.checkoutcom_sepa_mandate_disclaimer"}),name:"sepaMandate",onChange:function(t){null==n||n.paymentForm.disableSubmit(e,!t)}}))},ideal:({method:e})=>{const[t,n]=(0,o.useState)(),[a,r]=(0,o.useState)(""),i=(0,o.useCallback)((e=>o.createElement(f,Object.assign({},e,{selectedIssuer:a}))),[a]),c=e.initializationData.idealIssuers,s=({currentTarget:e})=>{const t=c.find((({bic:t})=>t===e.dataset.bic));t&&(n(t),r(t.bic))},l=o.createElement("ul",{className:"instrumentSelect-dropdownMenu instrumentSelect-dropdownMenuNext dropdown-menu"},c.map((e=>o.createElement("li",{className:"instrumentSelect-option dropdown-menu-item",key:e.bic},o.createElement(_,{issuer:e,onClick:s})))));return o.createElement(o.Fragment,null,o.createElement(d.A,{dropdown:l},o.createElement(v,{selectedIssuer:t})),o.createElement(u.A,{input:i,name:"bic"}))}};var w=n(44218),I=n(94202);const E=["fawry","sepa","oxxo","qpay","boleto","ideal"],P={oxxo:e=>({ccDocument:(0,I.Yj)().required(e.translate("payment.checkoutcom_document_invalid_error_oxxo")).length(18,e.translate("payment.checkoutcom_document_invalid_error_oxxo"))}),qpay:e=>({ccDocument:(0,I.Yj)().notRequired().max(32,e.translate("payment.checkoutcom_document_invalid_error_qpay"))}),boleto:e=>({ccDocument:(0,I.Yj)().required(e.translate("payment.checkoutcom_document_invalid_error_boleto")).min(11,e.translate("payment.checkoutcom_document_invalid_error_boleto")).max(14,e.translate("payment.checkoutcom_document_invalid_error_boleto"))}),sepa:e=>({iban:(0,I.Yj)().required(e.translate("payment.sepa_account_number_required")),sepaMandate:(0,I.zM)().required(e.translate("payment.sepa_mandate_required"))}),ideal:e=>({bic:(0,I.Yj)().required(e.translate("payment.ideal_bic_required"))}),fawry:e=>({customerMobile:(0,I.Yj)().required(e.translate("payment.checkoutcom_fawry_customer_mobile_invalid_error")).matches(new RegExp("^\\d{11}$"),e.translate("payment.checkoutcom_fawry_customer_mobile_invalid_error")),customerEmail:(0,I.Yj)().required(e.translate("payment.checkoutcom_fawry_customer_email_invalid_error")).email(e.translate("payment.checkoutcom_fawry_customer_email_invalid_error"))})},S=(0,w.Bj)((function({paymentMethod:e,language:t}){return(0,I.Ik)(P[e](t))})),j=(0,c.A)((e=>{var t,{language:n,method:c,checkoutService:s,checkoutState:l}=e,m=(0,a.__rest)(e,["language","method","checkoutService","checkoutState"]);const{getConfig:d}=l.data,u=null===(t=d())||void 0===t?void 0:t.checkoutSettings.features["PI-2979.checkoutcom_enable_ideal_hosted_page"],p=c.id,y=p in O?O[p]:g,h=l.data.getBillingAddress(),b=(0,o.useCallback)((e=>s.initializePayment(Object.assign(Object.assign({},e),{integrations:[r.N4,r.g9,r.Wu,r.OP,r.k5]}))),[s]);return f=p,!Object.values(E).includes(f)||"ideal"===p&&u?null:o.createElement(i.A,Object.assign({checkoutService:s,checkoutState:l,deinitializePayment:s.deinitializePayment,initializePayment:b,language:n,method:c},m,{cardFieldset:o.createElement(y,{debtor:h,method:c}),cardValidationSchema:S({paymentMethod:p,language:n})}));var f}),[{gateway:"checkoutcom"}])},40863:(e,t,n)=>{n.d(t,{N4:()=>A,OP:()=>F,Wu:()=>I,g9:()=>k,k5:()=>N});var a,r,o=n(69440),i=n(58686),c={};function s(e,t){return Object.assign(e,{resolveIds:t})}c.d=(e,t)=>{for(var n in t)c.o(t,n)&&!c.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},c.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);class l extends Error{constructor(e){var t;super(e||"An unexpected error has occurred."),this.name="StandardError",this.type="standard",t=new.target.prototype,Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,"function"==typeof Error.captureStackTrace?Error.captureStackTrace(this,new.target):this.stack=new Error(this.message).stack}}class m extends l{constructor(e){super(e||"Invalid arguments have been provided."),this.name="InvalidArgumentError",this.type="invalid_argument"}}class d extends m{constructor(e){let t="Unable to submit payment for the order because the payload is invalid.";e&&(t=`${t} Make sure the following fields are provided correctly: ${e.join(", ")}.`),super(t),this.name="PaymentArgumentInvalidError"}}class u extends l{constructor(){super("The current order does not need to be finalized at this stage."),this.name="OrderFinalizationNotRequiredError",this.type="order_finalization_not_required"}}(r=a||(a={}))[r.CheckoutButtonNotInitialized=0]="CheckoutButtonNotInitialized",r[r.CustomerNotInitialized=1]="CustomerNotInitialized",r[r.PaymentNotInitialized=2]="PaymentNotInitialized",r[r.ShippingNotInitialized=3]="ShippingNotInitialized",r[r.SpamProtectionNotInitialized=4]="SpamProtectionNotInitialized";class p extends l{constructor(e){super(function(e){switch(e){case a.CustomerNotInitialized:return"Unable to proceed because the customer step of checkout has not been initialized.";case a.PaymentNotInitialized:return"Unable to proceed because the payment step of checkout has not been initialized.";case a.ShippingNotInitialized:return"Unable to proceed because the shipping step of checkout has not been initialized.";case a.SpamProtectionNotInitialized:return"Unable to proceed because the checkout spam protection has not been initialized.";default:return"Unable to proceed because the required component has not been initialized."}}(e)),this.subtype=e,this.name="NotInitializedError",this.type="not_initialized"}}var y,h=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{s(a.next(e))}catch(e){o(e)}}function c(e){try{s(a.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}s((a=a.apply(e,t||[])).next())}))},b=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};class f{constructor(e){this._paymentIntegrationService=e}execute(e,t){var n,a;return this._isHostedPaymentFormEnabled(null===(n=e.payment)||void 0===n?void 0:n.methodId,null===(a=e.payment)||void 0===a?void 0:a.gatewayId)&&this._shouldRenderHostedForm?this._executeWithHostedForm(e,t):this._executeWithoutHostedForm(e,t)}initialize(e){if(!this._isHostedPaymentFormEnabled(null==e?void 0:e.methodId,null==e?void 0:e.gatewayId)||!this._isHostedFieldAvailable(e))return this._shouldRenderHostedForm=!1,Promise.resolve();const t=e&&e.creditCard&&e.creditCard.form,n=this._paymentIntegrationService.getState(),{paymentSettings:{bigpayBaseUrl:a=""}={}}=n.getStoreConfigOrThrow();if(!t)throw new m;const r=this._paymentIntegrationService.createHostedForm(a,t);return r.attach().then((()=>(this._shouldRenderHostedForm=!0,this._hostedForm=r,Promise.resolve())))}deinitialize(){return this._hostedForm&&this._hostedForm.detach(),Promise.resolve()}finalize(){return Promise.reject(new u)}_executeWithoutHostedForm(e,t){return h(this,void 0,void 0,(function*(){const{payment:n}=e,a=b(e,["payment"]),r=n&&n.paymentData;if(!n||!r)throw new d(["payment.paymentData"]);yield this._paymentIntegrationService.submitOrder(a,t),yield this._paymentIntegrationService.submitPayment(Object.assign(Object.assign({},n),{paymentData:r}))}))}_executeWithHostedForm(e,t){return h(this,void 0,void 0,(function*(){const{payment:n}=e,r=b(e,["payment"]),o=this._hostedForm;if(!o)throw new p(a.PaymentNotInitialized);if(!n||!n.methodId)throw new d(["payment.methodId"]);yield this._paymentIntegrationService.submitOrder(r,t),yield o.validate().then((()=>o.submit(n)))}))}_isHostedPaymentFormEnabled(e,t){return!!e&&!0===this._paymentIntegrationService.getState().getPaymentMethodOrThrow(e,t).config.isHostedFormEnabled}_isHostedFieldAvailable(e){return!(0,o.values)(e&&e.creditCard&&e.creditCard.form.fields).every(o.isNil)}}!function(e){e.ACKNOWLEDGE="ACKNOWLEDGE",e.FINALIZE="FINALIZE",e.INITIALIZE="INITIALIZE"}(y||(y={}));const _=y,v=e=>"object"==typeof e&&null!==e&&"body"in e;var g;!function(e){e.OffsiteRedirect="offsite_redirect"}(g||(g={}));class O extends f{constructor(e){super(e),this.paymentIntegrationService=e}finalize(e){const t=this.paymentIntegrationService.getState();return t.getOrder()&&t.getPaymentStatus()===_.FINALIZE&&this.paymentIntegrationService.finalizeOrder(e),Promise.reject(new u)}_executeWithHostedForm(e,t){return n=this,o=function*(){const{payment:n}=e,r=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n}(e,["payment"]),o=this._hostedForm;if(!o)throw new p(a.PaymentNotInitialized);if(!n||!n.methodId)throw new d(["payment.methodId"]);try{yield o.validate(),yield this.paymentIntegrationService.submitOrder(r,t),yield o.submit(n)}catch(e){return this._processResponse(e)}this.paymentIntegrationService.loadCurrentOrder()},new((r=void 0)||(r=Promise))((function(e,t){function a(e){try{c(o.next(e))}catch(e){t(e)}}function i(e){try{c(o.throw(e))}catch(e){t(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(a,i)}c((o=o.apply(n,[])).next())}));var n,r,o}_processResponse(e){if(!v(e))return Promise.reject(e);const t=e.body.additional_action_required;return t&&t.type===g.OffsiteRedirect?this._performRedirect(t):Promise.reject(e)}_performRedirect(e){return new Promise((()=>{window.location.replace(e.data.redirect_url)}))}}class w extends O{_executeWithoutHostedForm(e,t){return n=this,r=function*(){const{payment:n}=e,a=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n}(e,["payment"]),r=n&&n.paymentData;if(!n||!r)throw new d(["payment.paymentData"]);yield this._paymentIntegrationService.submitOrder(a,t);try{yield this._paymentIntegrationService.submitPayment(Object.assign(Object.assign({},n),{paymentData:Object.assign(Object.assign({},r),{formattedPayload:this._createFormattedPayload(n.methodId,r)})}))}catch(e){return this._processResponse(e)}},new((a=void 0)||(a=Promise))((function(e,t){function o(e){try{c(r.next(e))}catch(e){t(e)}}function i(e){try{c(r.throw(e))}catch(e){t(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof a?n:new a((function(e){e(n)}))).then(o,i)}c((r=r.apply(n,[])).next())}));var n,a,r}_createFormattedPayload(e,t){if("fawry"===e&&"customerMobile"in t&&"customerEmail"in t){const e=t;return{customerMobile:e.customerMobile,customerEmail:e.customerEmail}}}}const I=s((e=>new w(e)),[{gateway:"checkoutcom",id:"fawry"}]);function E(e){return v(e)&&(0,o.some)(e.body.errors,{code:"three_d_secure_required"})}var P=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function i(e){try{s(a.next(e))}catch(e){o(e)}}function c(e){try{s(a.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}s((a=a.apply(e,t||[])).next())}))},S=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};class j extends f{constructor(e,t){super(e),this.paymentIntegrationService=e,this.formPoster=t}finalize(e){const t=this.paymentIntegrationService.getState();return t.getOrder()&&t.getPaymentStatus()===_.FINALIZE&&this.paymentIntegrationService.finalizeOrder(e),Promise.reject(new u)}_executeWithoutHostedForm(e,t){return P(this,void 0,void 0,(function*(){const{payment:n}=e,a=S(e,["payment"]),r=n&&n.paymentData;if(!n||!r)throw new d(["payment.paymentData"]);yield this.paymentIntegrationService.submitOrder(a,t);try{yield this.paymentIntegrationService.submitPayment(Object.assign(Object.assign({},n),{paymentData:r}))}catch(e){return E(e)?this._handleThreeDSecure(e):Promise.reject(e)}}))}_executeWithHostedForm(e,t){return P(this,void 0,void 0,(function*(){const{payment:n}=e,r=S(e,["payment"]),o=this._hostedForm;if(!o)throw new p(a.PaymentNotInitialized);if(!n||!n.methodId)throw new d(["payment.methodId"]);try{yield o.validate(),yield this.paymentIntegrationService.submitOrder(r,t),yield o.submit(n)}catch(e){return E(e)?this._handleThreeDSecure(e):Promise.reject(e)}this.paymentIntegrationService.loadCurrentOrder()}))}_handleThreeDSecure(e){const{acs_url:t,payer_auth_request:n,callback_url:a,merchant_data:r}=e.body.three_ds_result;return new Promise((()=>this.formPoster.postForm(t,{PaReq:n||null,TermUrl:a||null,MD:r||null})))}}const k=s((e=>new j(e,(0,i.createFormPoster)())),[{gateway:"checkoutcom",id:"credit_card"},{gateway:"checkoutcom",id:"card"}]);class x extends O{_executeWithoutHostedForm(e,t){return n=this,r=function*(){const{payment:n}=e,a=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n}(e,["payment"]),r=null==n?void 0:n.paymentData;if(!n||!r)throw new d(["payment.paymentData"]);yield this._paymentIntegrationService.submitOrder(a,t);try{yield this._paymentIntegrationService.submitPayment(Object.assign(Object.assign({},n),{paymentData:Object.assign(Object.assign({},r),{formattedPayload:this._createFormattedPayload(n.methodId,r)})}))}catch(e){return this._processResponse(e)}},new((a=void 0)||(a=Promise))((function(e,t){function o(e){try{c(r.next(e))}catch(e){t(e)}}function i(e){try{c(r.throw(e))}catch(e){t(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof a?n:new a((function(e){e(n)}))).then(o,i)}c((r=r.apply(n,[])).next())}));var n,a,r}_createFormattedPayload(e,t){const n={iban:"",bic:""},{iban:a,bic:r}="iban"in t&&"bic"in t?t:n;return"sepa"===e&&document&&(n.iban=a,n.bic=r),n}}const N=s((e=>new x(e)),[{gateway:"checkoutcom",id:"sepa"}]);class C extends O{_executeWithoutHostedForm(e,t){return n=this,r=function*(){const{payment:n}=e,a=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n}(e,["payment"]),r=null==n?void 0:n.paymentData;if(!n||!r)throw new d(["payment.paymentData"]);yield this._paymentIntegrationService.submitOrder(a,t);try{yield this._paymentIntegrationService.submitPayment(Object.assign(Object.assign({},n),{paymentData:Object.assign(Object.assign({},r),{formattedPayload:this._createFormattedPayload(n.methodId,r)})}))}catch(e){return this._processResponse(e)}},new((a=void 0)||(a=Promise))((function(e,t){function o(e){try{c(r.next(e))}catch(e){t(e)}}function i(e){try{c(r.throw(e))}catch(e){t(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof a?n:new a((function(e){e(n)}))).then(o,i)}c((r=r.apply(n,[])).next())}));var n,a,r}_createFormattedPayload(e,t){if("ideal"===e&&"bic"in t)return{bic:t.bic}}}const F=s((e=>new C(e)),[{gateway:"checkoutcom",id:"ideal"}]),z=["boleto","oxxo","qpay","ideal"];class D extends O{_executeWithoutHostedForm(e,t){return n=this,r=function*(){const{payment:n}=e,a=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n}(e,["payment"]),r=null==n?void 0:n.paymentData;if(!n||!r)throw new d(["payment.paymentData"]);yield this._paymentIntegrationService.submitOrder(a,t);try{yield this._paymentIntegrationService.submitPayment(Object.assign(Object.assign({},n),{paymentData:Object.assign(Object.assign({},r),{formattedPayload:this._createFormattedPayload(n.methodId,r)})}))}catch(e){return this._processResponse(e)}},new((a=void 0)||(a=Promise))((function(e,t){function o(e){try{c(r.next(e))}catch(e){t(e)}}function i(e){try{c(r.throw(e))}catch(e){t(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof a?n:new a((function(e){e(n)}))).then(o,i)}c((r=r.apply(n,[])).next())}));var n,a,r}_createFormattedPayload(e,t){const n={ccDocument:""},a="ccDocument"in t?t.ccDocument:"";return-1!==z.indexOf(e)&&a&&(n.ccDocument=a),n}}const A=s((e=>new D(e)),[{gateway:"checkoutcom"}])}}]);
//# sourceMappingURL=checkoutcom-custom-payment-method-4b8d76ee.js.map